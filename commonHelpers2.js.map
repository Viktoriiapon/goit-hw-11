{"version":3,"file":"commonHelpers2.js","sources":["../src/js/gallery.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.js-search-form'),\n  infoEl: document.querySelector('.js-list-img'),\n  loaderEl: document.querySelector('.loader'),\n};\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\n\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const userQuery = e.target.elements.query.value;\n  if (!userQuery) {\n    iziToast.warning({\n      position: 'topRight',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n\n  getImage(userQuery).then(data => {\n   renderGallery(data);\n  });\n  \n}\n\nfunction getImage(nameImage) {\n  const BASE_URL = 'https://pixabay.com/';\n  const END_POINT = '/api/';\n  const PARAMS = `?key=42187150-1e170edc08d41224404163b7f&q=${nameImage}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + END_POINT + PARAMS;\n\n  return fetch(url).then(res => res.json());\n  };\n\n\nfunction imageTemplate(nameImage) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = nameImage;\n  return `<div class=\"image js-image\">\n    <div class=\"image-container\">\n\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n    src=\"${webformatURL}\"\n    alt=\"${tags}\"\n    class=\"image js-image\"\n  />\n  </a>\n    </div>\n    <div class=\"image-body\">\n      <ul class=\"info\">\n    <li class =\"info-item\">\n      <b class=\"info-item-title\">Likes</b>\n          <span class=\"info-item-value\">${likes}</span>\n          </li>\n          <li class =\"info-item\">\n      <b class=\"info-item-title\">Views</b>\n          <span class=\"info-item-value\">${views}</span>\n          </li>\n          <li class =\"info-item\">\n      <b class=\"info-item-title\">Comments</b>\n          <span class=\"info-item-value\">${comments}</span>\n          </li>\n          <li class =\"info-item\">\n      <b class=\"info-item-title\">Downloads</b>\n          <span class=\"info-item-value\">${downloads}</span>\n          </li>\n      </ul>\n    </div>\n  </div>`;\n}\n\nfunction renderGallery({ hits }) {\n  const markup = hits.map(imageTemplate).join('');\n  refs.infoEl.insertAdjacentHTML('beforeend', markup);\n  console.log(markup);\n}\n"],"names":["refs","onFormSubmit","e","userQuery","iziToast","getImage","data","renderGallery","nameImage","BASE_URL","END_POINT","PARAMS","url","res","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","hits","markup"],"mappings":"0xBAKA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,iBAAiB,EAChD,OAAQ,SAAS,cAAc,cAAc,EAC7C,SAAU,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAY,EAGnD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAYD,EAAE,OAAO,SAAS,MAAM,MAC1C,GAAI,CAACC,EAAW,CACdC,EAAS,QAAQ,CACf,SAAU,WACV,QAAS,8BACf,CAAK,EACD,MACD,CAEDC,EAASF,CAAS,EAAE,KAAKG,GAAQ,CAChCC,EAAcD,CAAI,CACrB,CAAG,CAEH,CAEA,SAASD,EAASG,EAAW,CAC3B,MAAMC,EAAW,uBACXC,EAAY,QACZC,EAAS,6CAA6CH,CAAS,2DAE/DI,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAE1C,CAEA,SAASC,EAAcN,EAAW,CAChC,KAAM,CACJ,aAAAO,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGb,EACJ,MAAO;AAAA;AAAA;AAAA,oCAG2BQ,CAAa;AAAA;AAAA,WAEtCD,CAAY;AAAA,WACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAS2BC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAKnD,CAEA,SAASd,EAAc,CAAE,KAAAe,GAAQ,CAC/B,MAAMC,EAASD,EAAK,IAAIR,CAAa,EAAE,KAAK,EAAE,EAC9Cd,EAAK,OAAO,mBAAmB,YAAauB,CAAM,EAClD,QAAQ,IAAIA,CAAM,CACpB"}